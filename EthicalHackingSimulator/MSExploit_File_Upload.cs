using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace EthicalHackingSimulator
{
    public class MSExploit_File_Upload : MSExploit
    {
        public string type { get; private set; }
        private string fileName { get; set; }

        public MSExploit_File_Upload(string name) : base(name)
        {
            type = "";
            fileName = "SneakyScript.exe";
        }

        //Creates the Arbitrary File Upload Exploit
        public override void Create()
        {
            while(true)
            {
                Console.Write("What type of malicious file would you like to create? (Virus/Worm/Trojan) ");
                string fileType = Console.ReadLine();

                if(fileType == "virus" || fileType == "Virus")
                {
                    type = fileType;
                    CreateVirus();
                    return;
                }

                else if(fileType == "worm" || fileType == "Worm")
                {
                    type = fileType;
                    CreateWorm();
                    return;
                }

                else if(fileType == "trojan" || fileType == "Trojan")
                {
                    type = fileType;
                    CreateTrojan();
                    return;
                }

                else
                {
                    Console.WriteLine("That is not a valid file type.\n");
                    return;
                }
            }
        }

        //Deploys the exploit onto the given target
        public override void Deploy(Target t, int port)
        {
            
        }

        //Observes the results of the exploit
        public override void Results()
        {
            
        }

        //Creates a virus type
        private void CreateVirus()
        {

        }

        //Creates a worm type
        private void CreateWorm()
        {

        }

        //Creates a trojan type
        private void CreateTrojan()
        {

        }
    }
}
